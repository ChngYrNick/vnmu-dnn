user  nginx;
worker_processes  auto;

events {
  worker_connections  4096;
}

http {
  include       /etc/nginx/mime.types;
  default_type  application/octet-stream;

  sendfile        on;
  tcp_nopush      on;
  tcp_nodelay     on;
  keepalive_timeout  65;
  server_tokens     off;

  gzip on;
  gzip_comp_level 6;
  gzip_min_length 1024;
  gzip_vary on;
  gzip_proxied any;
  gzip_types
    text/plain
    text/css
    application/javascript
    application/json
    application/xml
    image/svg+xml
    font/ttf
    font/otf
    application/font-woff
    application/font-woff2;

  limit_req_zone $binary_remote_addr zone=general:10m rate=10r/s;

  include /etc/nginx/conf.d/*.conf;
}
